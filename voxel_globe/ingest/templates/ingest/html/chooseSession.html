{% extends "main/base.html" %}
{% load staticfiles %}

{% block title %}Voxel Globe - Upload{% endblock %}

{% block includes %}

<script src="{% static 'ingest/js/chooseSession.js' %}"></script>
<link rel="stylesheet" type="text/css" href="{% static 'fileUpload/css/style.css' %}">
<!--<script src="{% static 'ingest/js/ingestChooseSession.js' %}"></script>-->
<style>

select {
  width: 100%;
}

</style>
{% endblock %}

{% block globalfunctions %}
// Global functions defined outside of the jquery document ready function can be put here.

function load(i) {
  window.open("{% url "ingest:addFiles" %}?upload="+i,'_top');
}

{% endblock %}

{% block javascript %}{% endblock %}

{% block pageTitle %}<h2>Upload</h2> {% endblock %}

{% block content %}
<div id="mainContainer" class="main-content">

<p>
  <button id="newSession">
    Start New Upload
  </button>
</p>

<p id="orSelectNew">Or select an existing upload from the list:</p>
<select id="availableSessions" style="display: inline-block;"></select>
<button id="oldSession" style="display: inline-block;">Go</button>

</div> <!-- #mainContainer -->

<div id="newSessionDialog">
  Enter a name for the session:<br>
  <input id="newSessionId" type="text" value='{{ uploadSession.id }}'></input><br>
  <p>
  <input type="radio" name="uploadCategory" value="image" checked>Images<br>
  <input type="radio" name="uploadCategory" value="controlPoint">Control Points<br>
  </p>
  
  <div id="img-options">
    Metadata Type:<br>
    <select id="metadata_type">
    {% for key,value in metadata_types.items %}
      <option value="{{ key }}">{{ value.description }}</option>
    {% endfor %}
    </select><br>

    Payload Type:<br>
    <select id="payload_type">
    {% for key,value in payload_types.items %}
      <option value="{{ key }}">{{ value.description }}</option>
    {% endfor %}
    </select><br>
  </div> <!-- #img-options -->

  <div id="ctrl-pt-options">
    Control Point Type:<br>
    <select id="controlpoint_type">
    {% for key,value in controlpoint_types.items %}
      <option value="{{ key }}">{{ value.description }}</option>
    {% endfor %}
    </select>
  </div> <!-- #ctrl-pt-options -->
</div> <!-- #newSessionDialog -->

<div id="debugInfo"></div>

{% endblock %}
