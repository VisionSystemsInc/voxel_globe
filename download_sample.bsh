#!/bin/bash

cd $(dirname ${BASH_SOURCE[0]})

REMOTE=$(git remote show -n origin | \grep "Fetch URL" | perl -lane 'print "@F[2..$#F]"')

if [[ ${REMOTE} == ssh://* ]]
then
  $(echo $REMOTE | sed -r 's|ssh://(.*):([0-9]*)(.*)|scp -P \2 \1:\3/../purdue_sample.zip .|')
elif [[ ${REMOTE} == http://* ]]
then
  $(echo $REMOTE | sed -r 's|http://(.*):([0-9]*)(.*)|wget http://\1:\2\3/../purdue_sample.zip|')
elif [[ ${REMOTE} == https://* ]]
then
  $(echo $REMOTE | sed -r 's|https://(.*):([0-9]*)(.*)|wget https://\1:\2\3/../purdue_sample.zip|')
else
    echo "Unknown origin type, I can't handle that right now..."
    #Feel free to add more here, but git:// would not work well, since it's a 
    #sandbox really
fi